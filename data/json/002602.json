{"code": 0, "data": {"allow_search": true, "attention": false, "author_title": null, "blocked": false, "blocked_count": null, "can_del": false, "comments": [{"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 6107, "create_time": 1639636085, "is_blocked": false, "is_tmp": false, "name_id": 1, "text": "åŸæ¥å¦‚æ­¤ï¼Œè¿˜ä»¥ä¸ºbotçš„ä½œè€…ä¹Ÿçœ‹è€½ç¾", "timestamp": 1639636085}, {"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 6109, "create_time": 1639636132, "is_blocked": false, "is_tmp": false, "name_id": 1, "text": "ç¨šæ¥šçš„åå­—å†™é”™äº† çœ‹æ¥ä¹Ÿå’Œbotä½œè€…æ— å…³", "timestamp": 1639636132}, {"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 6113, "create_time": 1639636331, "is_blocked": false, "is_tmp": false, "name_id": 1, "text": "æˆ‘è§‰å¾—é¢‘ç‡å¯ä»¥ä½ç‚¹ï¼ŒåŠä¸ªå°æ—¶æœ‰ç‚¹å¤ªé¢‘ç¹äº†å“ˆå“ˆå“ˆ", "timestamp": 1639636331}, {"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 6118, "create_time": 1639636514, "is_blocked": false, "is_tmp": false, "name_id": 2, "text": "å¥½ï¼", "timestamp": 1639636514}, {"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 6134, "create_time": 1639637161, "is_blocked": false, "is_tmp": false, "name_id": 2, "text": "å°ç™½å†é—®ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªä»£ç å¤åˆ¶ä¸‹æ¥åï¼Œæˆ‘çœ‹åˆ°åªè¦å¡«å…¥ä¸€ä¸ªè‡ªå·±çš„tokenå‚æ•°ï¼Œç„¶åæœ¬åœ°è¿è¡Œå°±å¥½äº†å˜›ï¼Œè¿™ä¸ªæ€ä¹ˆè¿è¡Œä¸€æ¬¡å°±ç»“æŸäº†è¯¶ï¼Œæ˜¯å¾—åå°æŒ‚ç€ä¸€ç›´è¿è¡Œå˜›ï¼Ÿ", "timestamp": 1639637161}, {"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 6137, "create_time": 1639637336, "is_blocked": false, "is_tmp": false, "name_id": 0, "text": "Re Alice: å˜¿ï¼Œå˜¿å˜¿å˜¿", "timestamp": 1639637336}, {"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 6138, "create_time": 1639637443, "is_blocked": false, "is_tmp": false, "name_id": 0, "text": "Re Bob: tokenåœ¨å‘½ä»¤è¡Œè¾“å…¥\n```\npython3 xxx.py token\n```\nç›´æ¥ç»“æŸæ˜¯ä¸æ˜¯æŠ¥é”™äº†ï¼Œåº“æ²¡è£…å…¨ä¹‹ç±»çš„", "timestamp": 1639637443}, {"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 6160, "create_time": 1639638424, "is_blocked": false, "is_tmp": false, "name_id": 2, "text": "Re æ´ä¸»: å˜¿å˜¿æˆåŠŸå•¦ï¼Œåˆšåˆšanacondaé‡Œé¢å¥½åƒæ²¡æœ‰å¯åŠ¨ç¯å¢ƒå˜¿å˜¿å˜¿", "timestamp": 1639638424}, {"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 6162, "create_time": 1639638433, "is_blocked": false, "is_tmp": false, "name_id": 2, "text": "Re æ´ä¸»: è°¢è°¢dzï¼", "timestamp": 1639638433}, {"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 6214, "create_time": 1639640710, "is_blocked": false, "is_tmp": false, "name_id": 3, "text": "Re : æŠ¥æ—¶botæ˜¯æ€ä¹ˆä¿æŒè¿è¡Œçš„å‘¢ï¼Œç§Ÿäº†äº‘æœåŠ¡å™¨å—", "timestamp": 1639640710}, {"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 6229, "create_time": 1639642210, "is_blocked": false, "is_tmp": false, "name_id": 2, "text": "Re Carol: å°±æ˜¯åœ¨æœ¬åœ°ç”µè„‘ä¸€ç›´å¼€çš„å‘€ï¼Œdzåº”è¯¥æ˜¯è®¾ç½®äº†ä¸€ä¸ªdelayï¼Œå®šæ—¶è¿è¡Œï¼ˆï¼Ÿ", "timestamp": 1639642210}, {"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 6274, "create_time": 1639645774, "is_blocked": false, "is_tmp": false, "name_id": 3, "text": "Re Bob: ç”µè„‘éƒ½ä¸å…³çš„å—ğŸ˜‚", "timestamp": 1639645774}, {"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 8337, "create_time": 1639796376, "is_blocked": false, "is_tmp": false, "name_id": 4, "text": "Re Carol: æƒ³å¤šäº†ï¼Œè¿™ç±»ä»£ç ä»æœåŠ¡å™¨é‡Œä¼šç»™ä½ è‡ªåŠ¨æ‰§è¡Œï¼Œå…¨ç¨‹æ— éœ€äººå·¥å¹²é¢„ã€‚è¿˜æœ‰ GitHub Actions ç­‰è‡ªåŠ¨åŒ–æœåŠ¡ä¸“é—¨åšè¿™ç§äº‹å„¿çš„", "timestamp": 1639796376}], "create_time": 1639636020, "cw": "æŠ¥æ—¶botä»£ç ", "hot_score": null, "is_blocked": false, "is_reported": null, "is_tmp": false, "last_comment_time": 1639796376, "likenum": 34, "n_attentions": 34, "n_comments": 13, "pid": 2602, "poll": null, "reply": 13, "text": "å°±æ˜¯æ¯åˆ°æ•´ç‚¹å‘ä¸€ä¸ªpostè¯·æ±‚ã€‚\nåŸè¯—ç”¨çš„æ˜¯[ä¸€è¨€](https://hitokoto.cn/)çš„æ¥å£ã€‚\nå¦‚æœ‰éœ€è¦å¯éšæ„å–ç”¨ã€‚\n\n```python\nimport requests\nimport time\nfrom datetime import datetime\nimport sys\n\nclass Puppet:\n    def __init__(self, token):\n        self.token = token\n        self.api = r'https://hole.thu.monster/_api/v1/'\n        self.ua = r'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36'\n\n    def post(self, content, *, cw='', allow_search=False):\n        payload = {\n            'cw': cw,\n            'text': content,\n            'allow_search': '1' if allow_search else '',\n            'type': 'text',\n        }\n        headers = {\n            'user-agent': self.ua,\n            'user-token': self.token,\n        }\n        url = self.api + 'dopost'\n        r = requests.post(url, data=payload, headers=headers)\n        print(r)\n\n\ndef getClock(now):\n    sentence_api = 'https://international.v1.hitokoto.cn/'\n    params = [\n        ['c', 'd'],\n        ['c', 'i'],\n        ['c', 'k'],\n    ] # è§https://developer.hitokoto.cn/sentence/#%E8%BF%94%E5%9B%9E%E6%A0%BC%E5%BC%8F\n    try:\n        r = requests.get(sentence_api, params=params)\n        data = r.json()\n    except Exception as e:\n        print(e)\n        data = None\n    if data:\n        hitokoto = data['hitokoto']\n        place = data['from']\n        author = data['from_who']\n        sentence = f'{hitokoto}\\n        â€”â€”{author}ã€Š{place}ã€‹'\n    else:\n        sentence = ''\n\n    now_str = now.strftime(r'%Y-%m-%d %H:%M')\n    content = f'#æŠ¥æ—¶ **åŒ—äº¬æ—¶é—´ {now_str}**\\n{sentence}'\n    return content\n\n\ndelay = 10\npuppet = Puppet(sys.argv[1])\n\nwhile True:\n    now = datetime.now()\n    # print(getClock(now))\n    print(now)\n    if now.minute == 0 or now.minute == 30:\n        content = getClock(now)\n        puppet.post(content, allow_search=True)\n        delay = 1800 - now.second\n    time.sleep(delay)\n\n```", "timestamp": 1639636020}}